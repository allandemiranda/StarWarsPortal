{"version":3,"sources":["views/Starship/components/StarshipInfo/StarshipInfo.js","views/Starship/Starship.js"],"names":["useStyles","makeStyles","theme","root","content","padding","actions","flexDirection","alignItems","marginLeft","buttonIcon","marginRight","spacing","StarshipInfo","props","starship","className","rest","classes","useState","progress","setProgress","useEffect","CircularProgress","Card","clsx","CardHeader","title","Divider","CardContent","Table","TableBody","TableRow","selected","TableCell","MGLT","cargo_capacity","consumables","cost_in_credits","crew","hyperdrive_rating","length","manufacturer","max_atmosphering_speed","model","passengers","starship_class","tabs","marginTop","divider","backgroundColor","colors","grey","Starship","match","history","params","id","tab","value","label","to","find","t","setStarship","error","setError","mounted","axios","get","then","response","data","catch","subTitle","name","Tabs","onChange","event","push","scrollButtons","variant","map","Tab","component","message"],"mappings":"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","file":"static/js/13.4e437870.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/styles';\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  Divider,\n  Table,\n  TableBody,\n  TableRow,\n  TableCell\n} from '@material-ui/core';\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst useStyles = makeStyles(theme => ({\n  root: {},\n  content: {\n    padding: 0\n  },\n  actions: {\n    flexDirection: 'column',\n    alignItems: 'flex-start',\n    '& > * + *': {\n      marginLeft: 0\n    }\n  },\n  buttonIcon: {\n    marginRight: theme.spacing(1)\n  }\n}));\n\nconst StarshipInfo = props => {\n  const { starship, className, ...rest } = props;\n\n  const classes = useStyles();\n\n  const [progress, setProgress] = useState(true);\n\n  useEffect(()=>{\n    if(starship){\n      setProgress(false)\n    }\n  },[starship])\n\n  return (\n    <div>\n      {progress ? <CircularProgress/> : \n        <Card\n          {...rest}\n          className={clsx(classes.root, className)}\n        >\n          <CardHeader \n            \n            title=\"Starship info\" \n          />\n          <Divider />\n          <CardContent className={classes.content}>\n            <Table>\n              <TableBody>            \n                <TableRow selected >\n                  <TableCell>MGLT</TableCell>\n                  <TableCell>{starship.MGLT}</TableCell>\n                </TableRow>\n                <TableRow>\n                  <TableCell>Cargo Capacity</TableCell>\n                  <TableCell>{starship.cargo_capacity} {' kilograms'}</TableCell>\n                </TableRow>\n                <TableRow selected >\n                  <TableCell>Consumables</TableCell>\n                  <TableCell>{starship.consumables}</TableCell>\n                </TableRow>\n                <TableRow>\n                  <TableCell>Cost in Credits</TableCell>\n                  <TableCell>{starship.cost_in_credits} {' galactic credits'}</TableCell>\n                </TableRow>\n                <TableRow selected >\n                  <TableCell>Consumables</TableCell>\n                  <TableCell>{starship.consumables}</TableCell>\n                </TableRow>\n                <TableRow>\n                  <TableCell>Crew</TableCell>\n                  <TableCell>{starship.crew} {' personnel needed'}</TableCell>\n                </TableRow>\n                <TableRow selected >\n                  <TableCell>Hyperdrive Rating</TableCell>\n                  <TableCell>{starship.hyperdrive_rating}</TableCell>\n                </TableRow>\n                <TableRow>\n                  <TableCell>Length</TableCell>\n                  <TableCell>{starship.length} {' meters'}</TableCell>\n                </TableRow>\n                <TableRow selected >\n                  <TableCell>Manufacturer</TableCell>\n                  <TableCell>{starship.manufacturer}</TableCell>\n                </TableRow>\n                <TableRow>\n                  <TableCell>Max Atmosphering Speed</TableCell>\n                  <TableCell>{starship.max_atmosphering_speed === 'n/a' ? 'incapable of atmospheric flight' : starship.max_atmosphering_speed + ' meters'}</TableCell>\n                </TableRow>\n                <TableRow selected >\n                  <TableCell>Model</TableCell>\n                  <TableCell>{starship.model}</TableCell>\n                </TableRow>\n                <TableRow>\n                  <TableCell>Passengers</TableCell>\n                  <TableCell>{starship.passengers} {' people'}</TableCell>\n                </TableRow>\n                <TableRow selected >\n                  <TableCell>Starship Class</TableCell>\n                  <TableCell>{starship.starship_class}</TableCell>\n                </TableRow>\n              </TableBody>\n            </Table>\n          </CardContent>   \n        </Card>}\n    </div>\n  );\n};\n\nStarshipInfo.propTypes = {\n  className: PropTypes.string,\n  starship: PropTypes.object.isRequired,  \n};\n\nexport default StarshipInfo;\n","/**\n * @description Starship details\n * \n * @author Allan de Miranda\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/styles';\nimport { Tabs, Tab, Divider, colors } from '@material-ui/core';\nimport axios from 'utils/axios';\nimport { \n  Page, \n  Header, \n  Summary, \n  Films, \n  Pilots,\n  Alert\n} from 'components';\nimport { StarshipInfo } from './components';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: theme.spacing(3)\n  },\n  tabs: {\n    marginTop: theme.spacing(3)     \n  },\n  divider: {\n    backgroundColor: colors.grey[300]\n  },\n  content: {\n    marginTop: theme.spacing(3)\n  }\n}));\n\nconst Starship = props => {\n  const { match, history } = props;\n  const classes = useStyles();\n  const { id, tab } = match.params;\n\n  const handleTabsChange = (event, value) => {\n    history.push(value);\n  };\n\n  const tabs = [\n    { value: 'summary', label: 'Summary' },\n    { value: 'films', label: 'Films' },\n    { value: 'pilots', label: 'Pilots'}\n  ];\n\n  if (!tab) {\n    return <Redirect to={`/starship/${id}/summary`} />;\n  }\n\n  if (!tabs.find(t => t.value === tab)) {\n    return <Redirect to=\"/errors/error-404\" />;\n  }\n\n  const [starship, setStarship] = useState();\n  const [error, setError] = useState();\n\n  useEffect(() => {\n    let mounted = true;\n\n    const fetchStarship = () => {\n      axios.get('/starships/'+ id +'/').then(response => {\n        if (mounted) {\n          setStarship(response.data); \n        }\n      }).catch((error)=>{\n        setError(error)\n      });\n    };\n\n    fetchStarship();\n\n    return () => {\n      mounted = false;\n    };\n  }, []);\n\n  if (!starship) {\n    if(error){\n      return (\n        <Page\n          className={classes.root}\n          title=\"Starship Details\"\n        >\n          <Alert\n            message={error.message}\n            variant={'error'}\n          />\n        </Page>);\n    } else {\n      return null;\n    }\n  }\n\n  return (      \n    <Page\n      className={classes.root}\n      title=\"Starship Details\"\n    >\n      <Header \n        subTitle={'Starship'}\n        title={starship.name} \n      />\n      <Tabs\n        className={classes.tabs}\n        onChange={handleTabsChange}\n        scrollButtons=\"auto\"\n        value={tab}\n        variant=\"scrollable\"\n      >\n        {tabs.map(tab => (\n          <Tab\n            key={tab.value}\n            label={tab.label}\n            value={tab.value}\n          />\n        ))}\n      </Tabs>\n      <Divider className={classes.divider} />\n      <div className={classes.content}>\n        {tab === 'summary' && \n        <Summary \n          component={<StarshipInfo starship={starship} />}\n        />}\n        {tab === 'films' && \n        <Films \n          data={starship} \n          title={'Starship Films'} \n        />}\n        {tab === 'pilots' && \n        <Pilots \n          data={starship}\n          title={'Starship Pilots'}\n        />}        \n      </div>\n    </Page>\n  );\n};\n\nStarship.propTypes = {\n  history: PropTypes.object.isRequired,\n  match: PropTypes.object.isRequired\n};\n\nexport default Starship;\n"],"sourceRoot":""}